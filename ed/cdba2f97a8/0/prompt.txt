Implement the following plan:

# 국내업종 현재지수 API 추가

## Context
KIS 증권사 API 클라이언트에 "국내업종 현재지수" (v1_국내주식-063) 조회 기능을 추가한다.
기존 `getStockPrice`와 동일한 패턴으로 `getIndexPrice` 메서드를 추가.

- **Endpoint**: GET `/uapi/domestic-stock/v1/quotations/inquire-index-price`
- **TR ID**: `FHPUP02100000` (실전 전용, 모의투자 미지원)
- **Query Params**: `FID_COND_MRKT_DIV_CODE` ("U"), `FID_INPUT_ISCD` (업종코드)

## 수정 파일

### 1. `packages/securities/src/kis/types.ts`
새로운 타입 3개 추가:

```ts
/** 국내업종 현재지수 조회 파라미터 */
export interface KisIndexPriceParams {
  /** 업종코드 (코스피: 0001, 코스닥: 1001, 코스피200: 2001 등) */
  sectorCode: string;
}

/** 국내업종 현재지수 조회 응답 output */
export interface KisIndexPriceOutput {
  bstpNmixPrpr: string;           // 업종 지수 현재가
  bstpNmixPrdyVrss: string;      // 업종 지수 전일 대비
  prdyVrssSign: string;           // 전일 대비 부호
  bstpNmixPrdyCtrt: string;      // 업종 지수 전일 대비율
  acmlVol: string;                // 누적 거래량
  prdyVol: string;                // 전일 거래량
  acmlTrPbmn: string;            // 누적 거래 대금
  prdyTrPbmn: string;            // 전일 거래 대금
  bstpNmixOprc: string;          // 업종 지수 시가
  prdyNmixVrssNmixOprc: string;  // 전일 지수 대비 지수 시가
  oprcVrssPrprSign: string;      // 시가 대비 현재가 부호
  bstpNmixOprcPrdyCtrt: string;  // 업종 지수 시가 전일 대비율
  bstpNmixHgpr: string;          // 업종 지수 최고가
  prdyNmixVrssNmixHgpr: string;  // 전일 지수 대비 지수 최고가
  hgprVrssPrprSign: string;      // 최고가 대비 현재가 부호
  bstpNmixHgprPrdyCtrt: string;  // 업종 지수 최고가 전일 대비율
  bstpNmixLwpr: string;          // 업종 지수 최저가
  prdyClprVrssLwpr: string;      // 전일 종가 대비 최저가
  lwprVrssPrprSign: string;      // 최저가 대비 현재가 부호
  prdyClprVrssLwprRate: string;  // 전일 종가 대비 최저가 비율
  ascnIssuCnt: string;           // 상승 종목 수
  uplmIssuCnt: string;           // 상한 종목 수
  stnrIssuCnt: string;           // 보합 종목 수
  downIssuCnt: string;           // 하락 종목 수
  lslmIssuCnt: string;           // 하한 종목 수
  dryyBstpNmixHgpr: string;     // 연중업종지수최고가
  dryyHgprVrssPrprRate: string;  // 연중 최고가 대비 현재가 비율
  dryyBstpNmixHgprDate: string;  // 연중업종지수최고가일자
  dryyBstpNmixLwpr: string;     // 연중업종지수최저가
  dryyLwprVrssPrprRate: string;  // 연중 최저가 대비 현재가 비율
  dryyBstpNmixLwprDate: string;  // 연중업종지수최저가일자
  totalAskpRsqn: string;        // 총 매도호가 잔량
  totalBidpRsqn: string;        // 총 매수호가 잔량
  selnRsqnRate: string;         // 매도 잔량 비율
  shnuRsqnRate: string;         // 매수 잔량 비율
  ntbyRsqn: string;             // 순매수 잔량
}

/** 국내업종 현재지수 조회 응답 */
export interface KisIndexPriceResponse {
  rtCd: string;
  msgCd: string;
  msg1: string;
  output: KisIndexPriceOutput;
}
```

### 2. `packages/securities/src/kis/market.ts`
- `KisMarketClient` 인터페이스에 `getIndexPrice` 메서드 추가
- `RawIndexPriceOutput`, `RawIndexPriceResponse` raw 타입 추가
- `mapIndexPriceOutput` 매핑 함수 추가
- `createKisMarketClient` 반환 객체에 `getIndexPrice` 구현 추가
  - URL: `${baseUrl}/uapi/domestic-stock/v1/quotations/inquire-index-price`
  - Query: `FID_COND_MRKT_DIV_CODE: "U"`, `FID_INPUT_ISCD: params.sectorCode`
  - Header: `tr_id: "FHPUP02100000"`, `custtype: "P"`
  - 에러 메시지: `"KIS index price request failed: ..."`

### 3. `packages/securities/src/kis/market.test.ts`
기존 `getStockPrice` 테스트 패턴과 동일하게:
- `rawIndexPriceResponse` mock 데이터 추가
- `describe("getIndexPrice")` 블록:
  - query parameter 검증 (`FID_COND_MRKT_DIV_CODE`="U", `FID_INPUT_ISCD`)
  - HTTP error 처리 테스트
  - snake_case → camelCase 매핑 테스트

### 4. `packages/securities/src/kis/index.ts`
re-export에 새 타입 추가:
- `KisIndexPriceParams`
- `KisIndexPriceOutput`
- `KisIndexPriceResponse`

## 검증
```sh
bun test packages/securities    # 테스트 통과 확인
bun run check                   # lint + format 검사
```


If you need specific details from before exiting plan mode (like exact code snippets, error messages, or content you generated), read the full transcript at: /Volumes/kgcrom-2tb/kgcrom/.REDACTED.jsonl

If this plan can be broken down into multiple independent tasks, consider using the TeamCreate tool to create a team and parallelize the work.

---

Base directory for this skill: /Volumes/kgcrom-2tb/kgcrom/.claude/skills/commit

## Format

```
<type>: <short summary in Korean>

<optional body in Korean>
```

## Core Rules

**Language:**
- Type prefix in English (feat, fix, refactor, docs, test, chore, perf, style)
- Summary and body in Korean
- Use concise verb forms: "추가", "수정", "삭제" (NOT "추가하도록 함", "수정하도록 함")

**Header:**
- Under 50 characters
- Lowercase start, no period at end
- Imperative mood: describe WHAT changed, not HOW

**Body (optional):**
- One blank line after header
- Wrap at 72 characters
- Explain WHY, not WHAT (diff shows what)

## Examples

✅ **Good:**
```
feat: JWT 인증 추가
fix: 타임존 계산 오류 수정
refactor: 주문 로직 분리
```

❌ **Bad:**
```
feat: JWT 인증을 추가하도록 함    (verbose form)
파일 업데이트                    (too vague)
fixed bug                       (past tense, English)
```

**With body:**
```
feat: 체결 확인 크론 작업 구현

장 마감 후 미체결 주문에 대한 자동 체결 확인 추가.
KST 16:00-17:59 사이 매 분마다 실행.

- 양 증권사에서 일일 주문 조회
- broker_order_id로 매칭
- 상태 업데이트: 체결/부분체결/거부
```

## Git Staging

1. Run `git status` first
2. Only stage files modified in current session
3. Ask user if other files are changed
4. Use `git add <specific-files>` (NOT `git add .` or `-A`)

## Critical Don'ts

❌ NEVER add `Co-Authored-By: Claude` or AI attribution
❌ NEVER use verbose Korean: "추가하도록 함", "처리하도록 함"
❌ NEVER use past tense or vague messages
❌ NEVER use periods at end of header

---

주식잔고조회 스펙 문서입니다.

첨부한 문서는 end point스펙과 request header + body
그리고 response header입니다.
response body는 길어서 텍스트로 붙입니다. <response>Body
주식주문(현금[V1_국내주식-001]) 정보 Element, 한글명, Type, Rquired, Length, Description
Element    한글명    Type    Required    Length    Description
rt_cd    성공 실패 여부    String    Y    1    0 : 성공
0 이외의 값 : 실패
msg_cd    응답코드    String    Y    8    응답코드
msg1    응답메세지    String    Y    80    응답메세지
ctx_area_fk100    연속조회검색조건100    String    Y    100    
ctx_area_nk100    연속조회키100    String    Y    100    
output1    응답상세1    Object Array    Y    -    Array
pdno

상품번호    String    Y    12    종목번호(뒷 6자리)
prdt_name

상품명    String    Y    60    종목명
trad_dvsn_name

매매구분명    String    Y    60    매수매도구분
bfdy_buy_qty

전일매수수량    String    Y    10    
bfdy_sll_qty

전일매도수량    String    Y    10    
thdt_buyqty

금일매수수량    String    Y    10    
thdt_sll_qty

금일매도수량    String    Y    10    
hldg_qty

보유수량    String    Y    19    
ord_psbl_qty

주문가능수량    String    Y    10    
pchs_avg_pric

매입평균가격    String    Y    22    매입금액 / 보유수량
pchs_amt

매입금액    String    Y    19    
prpr

현재가    String    Y    19    
evlu_amt

평가금액    String    Y    19    
evlu_pfls_amt

평가손익금액    String    Y    19    평가금액 - 매입금액
evlu_pfls_rt

평가손익율    String    Y    9    
evlu_erng_rt

평가수익율    String    Y    31    미사용항목(0으로 출력)
loan_dt

대출일자    String    Y    8    INQR_DVSN(조회구분)을 01(대출일별)로 설정해야 값이 나옴
loan_amt

대출금액    String    Y    19    
stln_slng_chgs

대주매각대금    String    Y    19    
expd_dt

만기일자    String    Y    8    
fltt_rt

등락율    String    Y    31    
bfdy_cprs_icdc

전일대비증감    String    Y    19    
item_mgna_rt_name

종목증거금율명    String    Y    20    
grta_rt_name

보증금율명    String    Y    20    
sbst_pric

대용가격    String    Y    19    증권매매의 위탁보증금으로서 현금 대신에 사용되는 유가증권 가격
stck_loan_unpr

주식대출단가    String    Y    22    
output2    응답상세2    Object Array    Y    -    Array
dnca_tot_amt

예수금총금액    String    Y    19    예수금
nxdy_excc_amt

익일정산금액    String    Y    19    D+1 예수금
prvs_rcdl_excc_amt

가수도정산금액    String    Y    19    D+2 예수금
cma_evlu_amt

CMA평가금액    String    Y    19    
bfdy_buy_amt

전일매수금액    String    Y    19    
thdt_buy_amt

금일매수금액    String    Y    19    
nxdy_auto_rdpt_amt

익일자동상환금액    String    Y    19    
bfdy_sll_amt

전일매도금액    String    Y    19    
thdt_sll_amt

금일매도금액    String    Y    19    
d2_auto_rdpt_amt

D+2자동상환금액    String    Y    19    
bfdy_tlex_amt

전일제비용금액    String    Y    19    
thdt_tlex_amt

금일제비용금액    String    Y    19    
tot_loan_amt

총대출금액    String    Y    19    
scts_evlu_amt

유가평가금액    String    Y    19    
tot_evlu_amt

총평가금액    String    Y    19    유가증권 평가금액 합계금액 + D+2 예수금
nass_amt

순자산금액    String    Y    19    
fncg_gld_auto_rdpt_yn

융자금자동상환여부    String    Y    1    보유현금에 대한 융자금만 차감여부
신용융자 매수체결 시점에서는 융자비율을 매매대금 100%로 계산 하였다가 수도결제일에 보증금에 해당하는 금액을 고객의 현금으로 충당하여 융자금을 감소시키는 업무
pchs_amt_smtl_amt

매입금액합계금액    String    Y    19    
evlu_amt_smtl_amt

평가금액합계금액    String    Y    19    유가증권 평가금액 합계금액
evlu_pfls_smtl_amt

평가손익합계금액    String    Y    19    
tot_stln_slng_chgs

총대주매각대금    String    Y    19    
bfdy_tot_asst_evlu_amt

전일총자산평가금액    String    Y    19    
asst_icdc_amt

자산증감액    String    Y    19    
asst_icdc_erng_rt

자산증감수익율    String    Y    31    데이터 미제공</response>

---

[Request interrupted by user for tool use]